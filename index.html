<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
    <link rel="icon" href="favicon.gif" type="image/gif">

    <title>Webstack • Math</title>
</head>

<body>
    <div class="StartPage">
        <div class="HeadLine">
            <div class="WebstackSchrift">
                <p>Webstack<span>.</span>calc</p>
            </div>
        </div>
        <div class="MainPage">
            <div class="MainContent">
                <div class="CalcTitle">
                    <p>Zahlensysteme umrechnen</p>
                </div>
                <div id="CalcDiv">
                    <div class="VarEingabe">
                        <select id="CalcMode">
                            <option>Dezimal</option>
                            <option>Hexadezimal</option>
                            <option>Binär</option>
                        </select>

                        <input id="Wert1" type="number">
                    </div>
                    <div class="VarResultat">
                        <select id="AnswerMode">
                            <option>Binär</option>
                            <option>Hexadezimal</option>
                            <option>Dezimal</option>
                        </select>
                        <input id="ResultatDisplay" type="text" readonly="readonly">
                    </div>
                </div>
                <div class="CalcFooter"> <a href="https:\\tweber.ch">Powered by Webstack.</a></div>
            </div>
        </div>

    </div>
</body>

<script>

    //Eventlistener setzen
    document.getElementById("Wert1").addEventListener("input", function () {

        Rechnen();
    }, false);

    document.querySelector("#CalcMode").onchange = function () {
        ModeAuslesen()
        Rechnen()
    }

    document.querySelector("#AnswerMode").onchange = function () {
        AnswerModeAuslesen()
        Rechnen()
    }

    function AnswerModeAuslesen() {
        let AnswerMode = document.querySelector("#AnswerMode").value;
        return AnswerMode;
    }

    function ModeAuslesen() {
        let CalcMode = document.querySelector("#CalcMode").value;
        return CalcMode;
    }

    function Rechnen() {
        var Wert1 = document.querySelector("#Wert1").value;
        var CalcCache = 0;
        let Resultat = " ";
        let CalcCacheStr = " "

        if (AnswerModeAuslesen() == "Binär") {
            while (Wert1 > 0) {

                CalcCache = Wert1 % 2;
                Wert1 = Math.floor((Wert1 / 2));

                Resultat = String(CalcCache) + Resultat;

            }
            document.querySelector('#ResultatDisplay').value = Resultat;
        }

        if (AnswerModeAuslesen() == "Hexadezimal") {
            while (Wert1 > 0) {

                CalcCache = Wert1 % 16;
                Wert1 = Math.floor((Wert1 / 16));

                CalcCacheStr = String(CalcCache)

                switch (CalcCacheStr) {
                    case "10":
                        CalcCacheStr = "A";
                        break;

                    case "11":
                        CalcCacheStr = "B";
                        break;

                    case "12":
                        CalcCacheStr = "C";
                        break;

                    case "13":
                        CalcCacheStr = "D";
                        break;

                    case "14":
                        CalcCacheStr = "E";
                        break;

                    case "15":
                        CalcCacheStr = "F";
                        break;

                }
                Resultat = CalcCacheStr + Resultat;

            }

            document.querySelector('#ResultatDisplay').value = Resultat;
        }
    }

</script>

</html>